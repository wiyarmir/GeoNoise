package es.guillermoorellana.geonoise.utils;

import android.graphics.Color;
import android.os.Environment;
import android.util.Log;

import java.io.File;
import java.io.FilenameFilter;

/**
 * Created by Guillermo Orellana on 10/08/14.
 */
public class Utils {

    public static final String SAVEFILE_DIR = "GeoNoise_Sessions";
    public static float[] helix_index;

    static {
        helix_index = new float[]{0f, 0.00392157f, 0.00784314f, 0.0117647f, 0.0156863f, 0.0196078f, 0.0235294f, 0.027451f, 0.0313725f, 0.0352941f, 0.0392157f, 0.0431373f, 0.0470588f, 0.0509804f, 0.054902f, 0.0588235f, 0.0627451f, 0.0666667f, 0.0705882f, 0.0745098f, 0.0784314f, 0.0823529f, 0.0862745f, 0.0901961f, 0.0941176f, 0.0980392f, 0.101961f, 0.105882f, 0.109804f, 0.113725f, 0.117647f, 0.121569f, 0.12549f, 0.129412f, 0.133333f, 0.137255f, 0.141176f, 0.145098f, 0.14902f, 0.152941f, 0.156863f, 0.160784f, 0.164706f, 0.168627f, 0.172549f, 0.176471f, 0.180392f, 0.184314f, 0.188235f, 0.192157f, 0.196078f, 0.2f, 0.203922f, 0.207843f, 0.211765f, 0.215686f, 0.219608f, 0.223529f, 0.227451f, 0.231373f, 0.235294f, 0.239216f, 0.243137f, 0.247059f, 0.25098f, 0.254902f, 0.258824f, 0.262745f, 0.266667f, 0.270588f, 0.27451f, 0.278431f, 0.282353f, 0.286275f, 0.290196f, 0.294118f, 0.298039f, 0.301961f, 0.305882f, 0.309804f, 0.313725f, 0.317647f, 0.321569f, 0.32549f, 0.329412f, 0.333333f, 0.337255f, 0.341176f, 0.345098f, 0.34902f, 0.352941f, 0.356863f, 0.360784f, 0.364706f, 0.368627f, 0.372549f, 0.376471f, 0.380392f, 0.384314f, 0.388235f, 0.392157f, 0.396078f, 0.4f, 0.403922f, 0.407843f, 0.411765f, 0.415686f, 0.419608f, 0.423529f, 0.427451f, 0.431373f, 0.435294f, 0.439216f, 0.443137f, 0.447059f, 0.45098f, 0.454902f, 0.458824f, 0.462745f, 0.466667f, 0.470588f, 0.47451f, 0.478431f, 0.482353f, 0.486275f, 0.490196f, 0.494118f, 0.498039f, 0.501961f, 0.505882f, 0.509804f, 0.513725f, 0.517647f, 0.521569f, 0.52549f, 0.529412f, 0.533333f, 0.537255f, 0.541176f, 0.545098f, 0.54902f, 0.552941f, 0.556863f, 0.560784f, 0.564706f, 0.568627f, 0.572549f, 0.576471f, 0.580392f, 0.584314f, 0.588235f, 0.592157f, 0.596078f, 0.6f, 0.603922f, 0.607843f, 0.611765f, 0.615686f, 0.619608f, 0.623529f, 0.627451f, 0.631373f, 0.635294f, 0.639216f, 0.643137f, 0.647059f, 0.65098f, 0.654902f, 0.658824f, 0.662745f, 0.666667f, 0.670588f, 0.67451f, 0.678431f, 0.682353f, 0.686275f, 0.690196f, 0.694118f, 0.698039f, 0.701961f, 0.705882f, 0.709804f, 0.713725f, 0.717647f, 0.721569f, 0.72549f, 0.729412f, 0.733333f, 0.737255f, 0.741176f, 0.745098f, 0.74902f, 0.752941f, 0.756863f, 0.760784f, 0.764706f, 0.768627f, 0.772549f, 0.776471f, 0.780392f, 0.784314f, 0.788235f, 0.792157f, 0.796078f, 0.8f, 0.803922f, 0.807843f, 0.811765f, 0.815686f, 0.819608f, 0.823529f, 0.827451f, 0.831373f, 0.835294f, 0.839216f, 0.843137f, 0.847059f, 0.85098f, 0.854902f, 0.858824f, 0.862745f, 0.866667f, 0.870588f, 0.87451f, 0.878431f, 0.882353f, 0.886275f, 0.890196f, 0.894118f, 0.898039f, 0.901961f, 0.905882f, 0.909804f, 0.913725f, 0.917647f, 0.921569f, 0.92549f, 0.929412f, 0.933333f, 0.937255f, 0.941176f, 0.945098f, 0.94902f, 0.952941f, 0.956863f, 0.960784f, 0.964706f, 0.968627f, 0.972549f, 0.976471f, 0.980392f, 0.984314f, 0.988235f, 0.992157f, 0.996078f, 1f};
        double[][] helix = new double[][]{{0.0, 0.0, 0.0}, {0.00802, 0.00136, 0.00662}, {0.01578, 0.00279, 0.01353}, {0.02327, 0.00432, 0.02072}, {0.03046, 0.00594, 0.02817}, {0.03737, 0.00767, 0.03587}, {0.04396, 0.00951, 0.04379}, {0.05023, 0.01147, 0.05192}, {0.05618, 0.01357, 0.06024}, {0.06179, 0.0158, 0.06873}, {0.06706, 0.01818, 0.07738}, {0.07198, 0.0207, 0.08616}, {0.07655, 0.02339, 0.09505}, {0.08077, 0.02623, 0.10404}, {0.08462, 0.02925, 0.11311}, {0.08812, 0.03243, 0.12223}, {0.09125, 0.0358, 0.13139}, {0.09402, 0.03934, 0.14056}, {0.09644, 0.04306, 0.14973}, {0.0985, 0.04697, 0.15887}, {0.1002, 0.05106, 0.16797}, {0.10156, 0.05535, 0.17701}, {0.10257, 0.05982, 0.18596}, {0.10324, 0.06448, 0.19481}, {0.10359, 0.06933, 0.20354}, {0.10361, 0.07436, 0.21212}, {0.10332, 0.07959, 0.22055}, {0.10273, 0.085, 0.22881}, {0.10184, 0.09059, 0.23687}, {0.10067, 0.09636, 0.24472}, {0.09924, 0.10231, 0.25234}, {0.09755, 0.10844, 0.25972}, {0.09561, 0.11473, 0.26685}, {0.09345, 0.12118, 0.2737}, {0.09108, 0.1278, 0.28027}, {0.08851, 0.13457, 0.28655}, {0.08576, 0.14149, 0.29251}, {0.08284, 0.14855, 0.29815}, {0.07978, 0.15574, 0.30347}, {0.07659, 0.16306, 0.30844}, {0.07329, 0.1705, 0.31306}, {0.06989, 0.17806, 0.31732}, {0.06642, 0.18572, 0.32122}, {0.06289, 0.19347, 0.32475}, {0.05933, 0.20132, 0.3279}, {0.05575, 0.20924, 0.33067}, {0.05217, 0.21723, 0.33306}, {0.04861, 0.22528, 0.33506}, {0.0451, 0.23338, 0.33667}, {0.04164, 0.24152, 0.3379}, {0.03826, 0.24969, 0.33873}, {0.03499, 0.25788, 0.33918}, {0.03183, 0.26608, 0.33924}, {0.02881, 0.27428, 0.33892}, {0.02594, 0.28248, 0.33823}, {0.02325, 0.29065, 0.33716}, {0.02076, 0.29879, 0.33572}, {0.01847, 0.30689, 0.33393}, {0.01641, 0.31495, 0.33178}, {0.0146, 0.32294, 0.32929}, {0.01305, 0.33086, 0.32647}, {0.01177, 0.33869, 0.32332}, {0.01079, 0.34644, 0.31986}, {0.01012, 0.35409, 0.3161}, {0.00977, 0.36163, 0.31205}, {0.00975, 0.36904, 0.30772}, {0.01008, 0.37633, 0.30314}, {0.01078, 0.38349, 0.2983}, {0.01184, 0.39049, 0.29324}, {0.01329, 0.39735, 0.28796}, {0.01513, 0.40404, 0.28248}, {0.01738, 0.41056, 0.27682}, {0.02003, 0.4169, 0.271}, {0.0231, 0.42306, 0.26503}, {0.0266, 0.42903, 0.25893}, {0.03052, 0.43481, 0.25272}, {0.03488, 0.44038, 0.24642}, {0.03968, 0.44574, 0.24005}, {0.04491, 0.45089, 0.23362}, {0.0506, 0.45582, 0.22717}, {0.05672, 0.46052, 0.2207}, {0.06329, 0.46501, 0.21424}, {0.0703, 0.46926, 0.20781}, {0.07776, 0.47328, 0.20143}, {0.08565, 0.47707, 0.19511}, {0.09398, 0.48062, 0.18889}, {0.10274, 0.48394, 0.18277}, {0.11193, 0.48701, 0.17678}, {0.12153, 0.48985, 0.17094}, {0.13155, 0.49245, 0.16527}, {0.14197, 0.4948, 0.15978}, {0.15279, 0.49693, 0.1545}, {0.16399, 0.49881, 0.14944}, {0.17556, 0.50047, 0.14463}, {0.1875, 0.50189, 0.14008}, {0.19979, 0.50309, 0.1358}, {0.21242, 0.50406, 0.13182}, {0.22537, 0.50481, 0.12815}, {0.23864, 0.50534, 0.1248}, {0.25219, 0.50566, 0.1218}, {0.26603, 0.50578, 0.11915}, {0.28013, 0.50569, 0.11687}, {0.29448, 0.50541, 0.11497}, {0.30905, 0.50495, 0.11347}, {0.32384, 0.5043, 0.11238}, {0.33881, 0.50348, 0.1117}, {0.35396, 0.50249, 0.11146}, {0.36927, 0.50135, 0.11164}, {0.38471, 0.50005, 0.11228}, {0.40027, 0.49862, 0.11337}, {0.41592, 0.49705, 0.11491}, {0.43165, 0.49536, 0.11692}, {0.44743, 0.49355, 0.11941}, {0.46324, 0.49165, 0.12237}, {0.47907, 0.48964, 0.1258}, {0.49489, 0.48756, 0.12971}, {0.51068, 0.4854, 0.13411}, {0.52642, 0.48318, 0.13899}, {0.54209, 0.4809, 0.14434}, {0.55767, 0.47859, 0.15018}, {0.57314, 0.47624, 0.15649}, {0.58848, 0.47387, 0.16328}, {0.60367, 0.47149, 0.17054}, {0.61868, 0.46912, 0.17826}, {0.6335, 0.46676, 0.18643}, {0.64812, 0.46442, 0.19506}, {0.6625, 0.46212, 0.20413}, {0.67664, 0.45986, 0.21363}, {0.69051, 0.45766, 0.22356}, {0.7041, 0.45552, 0.2339}, {0.7174, 0.45346, 0.24464}, {0.73037, 0.45149, 0.25578}, {0.74302, 0.44962, 0.26729}, {0.75532, 0.44785, 0.27916}, {0.76727, 0.4462, 0.29139}, {0.77884, 0.44468, 0.30395}, {0.79002, 0.4433, 0.31683}, {0.80081, 0.44206, 0.33002}, {0.81118, 0.44097, 0.34349}, {0.82114, 0.44005, 0.35723}, {0.83067, 0.4393, 0.37123}, {0.83976, 0.43873, 0.38546}, {0.84841, 0.43834, 0.3999}, {0.8566, 0.43814, 0.41454}, {0.86434, 0.43814, 0.42936}, {0.87161, 0.43835, 0.44433}, {0.87841, 0.43877, 0.45945}, {0.88474, 0.43941, 0.47468}, {0.89059, 0.44027, 0.49001}, {0.89597, 0.44136, 0.50541}, {0.90088, 0.44267, 0.52087}, {0.9053, 0.44422, 0.53637}, {0.90926, 0.44601, 0.55188}, {0.91274, 0.44803, 0.56739}, {0.91575, 0.4503, 0.58287}, {0.91829, 0.45281, 0.5983}, {0.92038, 0.45557, 0.61367}, {0.92201, 0.45857, 0.62895}, {0.92319, 0.46182, 0.64412}, {0.92393, 0.46531, 0.65916}, {0.92424, 0.46905, 0.67406}, {0.92413, 0.47303, 0.6888}, {0.9236, 0.47725, 0.70335}, {0.92268, 0.48171, 0.7177}, {0.92136, 0.48641, 0.73183}, {0.91967, 0.49135, 0.74573}, {0.91761, 0.49651, 0.75937}, {0.9152, 0.5019, 0.77275}, {0.91246, 0.50751, 0.78584}, {0.90939, 0.51334, 0.79863}, {0.90602, 0.51938, 0.81111}, {0.90236, 0.52562, 0.82326}, {0.89843, 0.53207, 0.83508}, {0.89424, 0.53871, 0.84654}, {0.88981, 0.54553, 0.85765}, {0.88517, 0.55253, 0.86838}, {0.88032, 0.5597, 0.87873}, {0.8753, 0.56704, 0.88869}, {0.87011, 0.57453, 0.89825}, {0.86477, 0.58217, 0.90741}, {0.85932, 0.58994, 0.91615}, {0.85376, 0.59785, 0.92448}, {0.84811, 0.60587, 0.9324}, {0.8424, 0.61401, 0.93988}, {0.83665, 0.62224, 0.94695}, {0.83087, 0.63056, 0.95358}, {0.82508, 0.63897, 0.95979}, {0.81932, 0.64744, 0.96558}, {0.81358, 0.65597, 0.97093}, {0.80791, 0.66456, 0.97587}, {0.8023, 0.67318, 0.98038}, {0.79679, 0.68184, 0.98448}, {0.79139, 0.69051, 0.98817}, {0.78612, 0.69919, 0.99146}, {0.781, 0.70786, 0.99435}, {0.77604, 0.71653, 0.99684}, {0.77127, 0.72517, 0.99896}, {0.76669, 0.73378, 1.0}, {0.76233, 0.74235, 1.0}, {0.7582, 0.75087, 1.0}, {0.75431, 0.75932, 1.0}, {0.75069, 0.76771, 1.0}, {0.74733, 0.77601, 1.0}, {0.74427, 0.78422, 1.0}, {0.7415, 0.79234, 1.0}, {0.73903, 0.80035, 1.0}, {0.73689, 0.80824, 1.0}, {0.73508, 0.81601, 1.0}, {0.7336, 0.82365, 0.99879}, {0.73247, 0.83116, 0.99707}, {0.73169, 0.83852, 0.99516}, {0.73127, 0.84573, 0.99309}, {0.73122, 0.85278, 0.99086}, {0.73153, 0.85968, 0.9885}, {0.73222, 0.8664, 0.98603}, {0.73327, 0.87296, 0.98347}, {0.73471, 0.87933, 0.98083}, {0.73652, 0.88553, 0.97813}, {0.7387, 0.89155, 0.9754}, {0.74126, 0.89738, 0.97265}, {0.74419, 0.90302, 0.96991}, {0.74749, 0.90847, 0.96718}, {0.75115, 0.91373, 0.9645}, {0.75518, 0.9188, 0.96188}, {0.75955, 0.92367, 0.95934}, {0.76427, 0.92835, 0.95689}, {0.76933, 0.93284, 0.95457}, {0.77471, 0.93715, 0.95237}, {0.78042, 0.94126, 0.95033}, {0.78643, 0.94518, 0.94846}, {0.79274, 0.94892, 0.94677}, {0.79933, 0.95249, 0.94528}, {0.80619, 0.95587, 0.94402}, {0.81332, 0.95908, 0.94298}, {0.82068, 0.96213, 0.9422}, {0.82827, 0.96501, 0.94167}, {0.83608, 0.96773, 0.94142}, {0.84408, 0.9703, 0.94145}, {0.85225, 0.97273, 0.94179}, {0.86059, 0.97502, 0.94243}, {0.86907, 0.97718, 0.94339}, {0.87768, 0.97922, 0.94468}, {0.88639, 0.98115, 0.94631}, {0.89518, 0.98296, 0.94828}, {0.90404, 0.98468, 0.9506}, {0.91295, 0.98632, 0.95327}, {0.92188, 0.98787, 0.9563}, {0.93081, 0.98936, 0.9597}, {0.93973, 0.99078, 0.96346}, {0.94862, 0.99216, 0.96759}, {0.95745, 0.9935, 0.97209}, {0.96619, 0.99481, 0.97695}, {0.97484, 0.99611, 0.98217}, {0.98338, 0.9974, 0.98776}, {0.99177, 0.99869, 0.9937}, {1.0, 1.0, 1.0}};
        int[] ret = new int[helix.length];
        for (int i = 0; i < helix.length; i++) {
            helix[i][0] *= 255;
            helix[i][1] *= 255;
            helix[i][2] *= 255;
            ret[helix.length - i - 1] = Color.rgb((int) helix[i][0], (int) helix[i][1], (int) helix[i][2]);
        }
        ret[0] = Color.argb(0, 255, 255, 255);
        helix_colors = ret;
    }

    private static int[] helix_colors;

    public static String getSaveDirPath() {
        File dir = Environment.getExternalStorageDirectory();
        //
        return dir.getAbsolutePath() + File.separator + SAVEFILE_DIR;
    }

    public static String[] listFilesInPath(File mPath) {
        try {
            mPath.mkdirs();
        } catch (SecurityException e) {
            Log.e("", "unable to write on the sd card " + e.toString());
        }
        if (mPath.exists()) {
            FilenameFilter filter = new FilenameFilter() {
                public boolean accept(File dir, String filename) {
                    File sel = new File(dir, filename);
                    return filename.contains(".csv") || sel.isDirectory();
                }
            };
            return mPath.list(filter);
        } else {
            return new String[0];
        }
    }

    public static int[] cubehelix() {
        return helix_colors;
    }

}

